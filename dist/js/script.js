"use strict";function _reset(){document.getElementById("resetBtn").addEventListener("click",function(){location.reload(),toyry.init()})}var toyry=function(){function e(){if(-1!==m.indexOf(this.index)&&(a-=0==a?0:50,i()),2===r&&r++,!this.isClicked){var g=n[this.index].replace("./img/cards/","").replace(".png","");console.log("THIS",this.index);var u=this.querySelector("img");if(o=c,console.log(o),c=g,console.log(c),t=s,console.log(t),s=this,m.push(this.index),console.log(s),o===c?(l=!0,a+=100,d+=1,i()):l=!1,l){[t,s].forEach(function(i){i.removeEventListener("click",e),i.classList.add("is-deleted")})}u.src=n[this.index],function(e){setTimeout(function(){c=0,e.isClicked=!1,r--,setTimeout(function(){e.querySelector("img").src="../img/back_small.png"},500)},2e3)}(this),this.isClicked=!0}}function i(){document.getElementById("score").innerText=a,function(){if(10===d){var e=document.createElement("p"),i=document.createTextNode("You WIN!!");e.appendChild(i),e.className="win-msg",document.getElementById("gameTable").appendChild(e)}}()}var n=["./img/cards/artefacto_small.png","./img/cards/artefacto_small.png","./img/cards/astronauta_small.png","./img/cards/astronauta_small.png","./img/cards/bus_small.png","./img/cards/bus_small.png","./img/cards/muñeca_small.png","./img/cards/muñeca_small.png","./img/cards/oso_small.png","./img/cards/oso_small.png","./img/cards/peluche_small.png","./img/cards/peluche_small.png","./img/cards/perro_small.png","./img/cards/perro_small.png","./img/cards/robot_small.png","./img/cards/robot_small.png","./img/cards/soldado_small.png","./img/cards/soldado_small.png","./img/cards/triciclo_small.png","./img/cards/triciclo_small.png"],s=void 0,t=void 0,c=0,o=-1,r=0,a=0,l=!1,d=0,m=[];return{init:function(){"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("../sw.js").then(function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)},function(e){console.log("ServiceWorker registration failed: ",e)})});var i=document.querySelectorAll(".cards");n=function(e){return e.sort(function(){return.5-Math.random()})}(n),function(i){i.forEach(function(i,n){i.isClicked=!1,i.index=n,i.addEventListener("click",e)})}(i)}}}();toyry.init(),_reset();